{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"E:\\\\Project\\\\Project BWA\\\\FRONTEND\\\\frontpage\\\\src\\\\pages\\\\courses\\\\index.js\",\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nimport React, { useEffect, useState, useRef } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport courses from \"src/constants/api/courses\";\nimport Header from \"src/parts/Header\";\nimport Footer from \"src/parts/Footer\";\nimport ListCourses from \"src/parts/ListCourses\";\nfunction Courses(_ref) {\n  _s();\n  var _SearchResponse$data,\n    _SearchResponse$data2,\n    _SearchResponse$data3,\n    _this = this;\n  var data = _ref.data;\n  var _useState = useState(function () {\n      return \"\";\n    }),\n    Search = _useState[0],\n    setSearch = _useState[1];\n  var _useState2 = useState(function () {\n      return false;\n    }),\n    SearchFocus = _useState2[0],\n    setSearchFocus = _useState2[1];\n  var _useState3 = useState(function () {\n      return {\n        isLoading: false,\n        isError: false,\n        data: []\n      };\n    }),\n    SearchResponse = _useState3[0],\n    setSearchResponse = _useState3[1];\n  var selectWrapper = useRef(null);\n  function clickOutside(event) {\n    if (selectWrapper && !selectWrapper.current.contains(event.target)) {\n      setSearch(\"\");\n    }\n  }\n  var timeoutSearch = useRef(null);\n  function handleSearch(e) {\n    e.persist();\n    setSearch(e.target.value);\n    clearTimeout(timeoutSearch.current);\n    timeoutSearch.current = setTimeout(function () {\n      setSearchResponse({\n        isLoading: true,\n        isError: false,\n        data: null\n      });\n      courses.all({\n        params: {\n          q: e.target.value\n        }\n      }).then(function (res) {\n        setSearchResponse({\n          isLoading: false,\n          isError: false,\n          data: res.data\n        });\n      })[\"catch\"](function (err) {\n        setSearchResponse({\n          isLoading: false,\n          isError: true,\n          data: null\n        });\n      });\n    }, 1000);\n  }\n  useEffect(function () {\n    window.addEventListener(\"mousedown\", clickOutside);\n    return function () {\n      window.removeEventListener(\"mousedown\", clickOutside);\n    };\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Learness | Courses\")), __jsx(\"section\", {\n    className: \"pt-10 z-30 relative\",\n    style: {\n      height: 360\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"absolute inset-0 z-0 w-full h-1 opacity-70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(\"img\", {\n    src: \"/images/backgroundcourses.png\",\n    alt: \"Learning With Book\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"meta-title absolute bottom-0 object-fill z-0 w-full flex justify-center items-center\",\n    style: {\n      marginBottom: \"-25px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"text-6xl text-center text-teal-500 font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Courses\"), __jsx(\"h4\", {\n    className: \"text-lg text-center text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Temukan course yang sesuai dengan role anda \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 59\n    }\n  }), \" Terus ikuti perkembangan teknologi\"), __jsx(\"div\", {\n    className: \"flex flex-col relative\",\n    ref: selectWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    id: \"q\",\n    type: \"text\",\n    onChange: handleSearch,\n    onFocus: function onFocus() {\n      return setSearchFocus(!SearchFocus);\n    },\n    onBlur: function onBlur() {\n      return setSearchFocus(!SearchFocus);\n    },\n    value: Search,\n    placeholder: SearchFocus ? \"Ketik minimal 3 karakter untuk mencari\" : \"Lagi nyari kelas apa?\",\n    className: \"bg-white focus:outline-none transition-all duration-200 focus:border-teal-500 border border-gray-400 rounded-lg px-4 py-3 w-full mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }), Search.length >= 5 && __jsx(\"div\", {\n    className: \"flex flex-col absolute py-2 px-4 bg-white border border-gray-600 w-full\",\n    style: {\n      top: 75\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, SearchResponse.isLoading ? \"Loading...\" : __jsx(React.Fragment, null, SearchResponse.isError && \"Something is technically wrong\", ((_SearchResponse$data = SearchResponse.data) === null || _SearchResponse$data === void 0 ? void 0 : _SearchResponse$data.length) > 0 ? (_SearchResponse$data2 = SearchResponse.data) === null || _SearchResponse$data2 === void 0 ? void 0 : (_SearchResponse$data3 = _SearchResponse$data2.map) === null || _SearchResponse$data3 === void 0 ? void 0 : _SearchResponse$data3.call(_SearchResponse$data2, function (item, index) {\n    var _item$thumbnail, _item$name, _item$name2, _item$level;\n    return __jsx(\"div\", {\n      key: index,\n      className: \"flex items-center -mx-4 py-2 cursor-pointer hover:bg-gray-200 relative\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 31\n      }\n    }, __jsx(\"div\", {\n      className: \"w-auto px-4\",\n      style: {\n        width: 150\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 33\n      }\n    }, __jsx(\"img\", {\n      src: (_item$thumbnail = item === null || item === void 0 ? void 0 : item.thumbnail) !== null && _item$thumbnail !== void 0 ? _item$thumbnail : \"\",\n      alt: (_item$name = item === null || item === void 0 ? void 0 : item.name) !== null && _item$name !== void 0 ? _item$name : \"Course Name\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 35\n      }\n    })), __jsx(\"div\", {\n      className: \"w-full px-4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, __jsx(\"h6\", {\n      className: \"text-gray-900 text-lg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 35\n      }\n    }, (_item$name2 = item === null || item === void 0 ? void 0 : item.name) !== null && _item$name2 !== void 0 ? _item$name2 : \"Course Name\"), __jsx(\"p\", {\n      className: \"text-gray-600\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 35\n      }\n    }, (_item$level = item === null || item === void 0 ? void 0 : item.level) !== null && _item$level !== void 0 ? _item$level : \"level\"), __jsx(Link, {\n      href: \"/courses/[id]\",\n      as: \"/courses/\".concat(item.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 35\n      }\n    }, __jsx(\"a\", {\n      className: \"link-wrapped\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }))));\n  }) : \"No course found\"))))), __jsx(\"div\", {\n    className: \"container px-4 mx-auto z-10 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }))), __jsx(\"section\", {\n    className: \"container px-4 mx-auto pt-24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, __jsx(ListCourses, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  })), __jsx(\"section\", {\n    className: \"mt-24 bg-indigo-1000 py-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  })));\n}\n_s(Courses, \"bvVmvhJXH8ewWR/gtFfC2mdDqc4=\");\n_c = Courses;\nCourses.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n  var data;\n  return _regeneratorRuntime().wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return courses.all();\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            data: data.data\n          });\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee, null, [[0, 7]]);\n}));\nexport default Courses;\nvar _c;\n$RefreshReg$(_c, \"Courses\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Head","Link","courses","Header","Footer","ListCourses","Courses","data","Search","setSearch","SearchFocus","setSearchFocus","isLoading","isError","SearchResponse","setSearchResponse","selectWrapper","clickOutside","event","current","contains","target","timeoutSearch","handleSearch","e","persist","value","clearTimeout","setTimeout","all","params","q","then","res","err","window","addEventListener","removeEventListener","height","marginBottom","length","top","map","item","index","width","thumbnail","name","level","id","getInitialProps"],"sources":["E:/Project/Project BWA/FRONTEND/frontpage/src/pages/courses/index.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\n\nimport courses from \"src/constants/api/courses\";\n\nimport Header from \"src/parts/Header\";\nimport Footer from \"src/parts/Footer\";\nimport ListCourses from \"src/parts/ListCourses\";\n\nfunction Courses({ data }) {\n  const [Search, setSearch] = useState(() => \"\");\n  const [SearchFocus, setSearchFocus] = useState(() => false);\n  const [SearchResponse, setSearchResponse] = useState(() => ({\n    isLoading: false,\n    isError: false,\n    data: [],\n  }));\n\n  const selectWrapper = useRef(null);\n\n  function clickOutside(event) {\n    if (selectWrapper && !selectWrapper.current.contains(event.target)) {\n      setSearch(\"\");\n    }\n  }\n\n  let timeoutSearch = useRef(null);\n  function handleSearch(e) {\n    e.persist();\n    setSearch(e.target.value);\n    clearTimeout(timeoutSearch.current);\n    timeoutSearch.current = setTimeout(() => {\n      setSearchResponse({\n        isLoading: true,\n        isError: false,\n        data: null,\n      });\n      courses\n        .all({ params: { q: e.target.value } })\n        .then((res) => {\n          setSearchResponse({\n            isLoading: false,\n            isError: false,\n            data: res.data,\n          });\n        })\n        .catch((err) => {\n          setSearchResponse({\n            isLoading: false,\n            isError: true,\n            data: null,\n          });\n        });\n    }, 1000);\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"mousedown\", clickOutside);\n    return () => {\n      window.removeEventListener(\"mousedown\", clickOutside);\n    };\n  }, []);\n\n  return (\n    <>\n      <Head>\n        <title>Learness | Courses</title>\n      </Head>\n\n      <section className=\"pt-10 z-30 relative\" style={{ height: 360 }}>\n        <div className=\"absolute inset-0 z-0 w-full h-1 opacity-70\">\n        <img\n              src=\"/images/backgroundcourses.png\"\n              alt=\"Learning With Book\"\n            />\n        </div>\n        <div\n          className=\"meta-title absolute bottom-0 object-fill z-0 w-full flex justify-center items-center\"\n          style={{ marginBottom: \"-25px\" }}\n        >\n          <div className=\"px-4\">\n            <h3 className=\"text-6xl text-center text-teal-500 font-semibold\">\n              Courses\n            </h3>\n            <h4 className=\"text-lg text-center text-white\">\n              Temukan course yang sesuai dengan role anda <br /> Terus ikuti perkembangan teknologi\n            </h4>\n            <div className=\"flex flex-col relative\" ref={selectWrapper}>\n              <input\n                id=\"q\"\n                type=\"text\"\n                onChange={handleSearch}\n                onFocus={() => setSearchFocus(!SearchFocus)}\n                onBlur={() => setSearchFocus(!SearchFocus)}\n                value={Search}\n                placeholder={\n                  SearchFocus\n                    ? \"Ketik minimal 3 karakter untuk mencari\"\n                    : \"Lagi nyari kelas apa?\"\n                }\n                className=\"bg-white focus:outline-none transition-all duration-200 focus:border-teal-500 border border-gray-400 rounded-lg px-4 py-3 w-full mt-6\"\n              />\n              {Search.length >= 5 && (\n                <div\n                  className=\"flex flex-col absolute py-2 px-4 bg-white border border-gray-600 w-full\"\n                  style={{ top: 75 }}\n                >\n                  {SearchResponse.isLoading ? (\n                    \"Loading...\"\n                  ) : (\n                    <>\n                      {SearchResponse.isError &&\n                        \"Something is technically wrong\"}\n                      {SearchResponse.data?.length > 0\n                        ? SearchResponse.data?.map?.((item, index) => {\n                            return (\n                              <div\n                                key={index}\n                                className=\"flex items-center -mx-4 py-2 cursor-pointer hover:bg-gray-200 relative\"\n                              >\n                                <div\n                                  className=\"w-auto px-4\"\n                                  style={{ width: 150 }}\n                                >\n                                  <img\n                                    src={item?.thumbnail ?? \"\"}\n                                    alt={item?.name ?? \"Course Name\"}\n                                  />\n                                </div>\n                                <div className=\"w-full px-4\">\n                                  <h6 className=\"text-gray-900 text-lg\">\n                                    {item?.name ?? \"Course Name\"}\n                                  </h6>\n                                  <p className=\"text-gray-600\">\n                                    {item?.level ?? \"level\"}\n                                  </p>\n                                  <Link\n                                    href=\"/courses/[id]\"\n                                    as={`/courses/${item.id}`}\n                                  >\n                                    <a className=\"link-wrapped\"></a>\n                                  </Link>\n                                </div>\n                              </div>\n                            );\n                          })\n                        : \"No course found\"}\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container px-4 mx-auto z-10 relative\">\n          <Header></Header>\n        </div>\n      </section>\n\n      <section className=\"container px-4 mx-auto pt-24\">\n        <ListCourses data={data}></ListCourses>\n      </section>\n      <section className=\"mt-24 bg-indigo-1000 py-12\">\n        <Footer></Footer>\n      </section>\n    </>\n  );\n}\n\nCourses.getInitialProps = async () => {\n  try {\n    const data = await courses.all();\n\n    return { data: data.data };\n  } catch (error) {}\n};\n\nexport default Courses;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}